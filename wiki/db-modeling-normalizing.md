### 정규화
- 정규화란 데이터 모델 설계시 중복을 최소화하도록 데이터를 구조화하는 작업을 말한다.
- 기본적으로 높은 차수의 정규형은 낮은 차수의 정규형을 모두 만족하여야 한다. 즉, 제3정규형은 제1,2 정규형의 조건을 모두 만족하여야 하며, BCNF는 1,2,3 정규형을 기본적으로 모두 만족하고 있어야 한다.

#### 제1 정규형
- 컬럼은 원자성을 유지해야한다.

| ID | Name | Phone Number |
|:--:|:----:|:------------:|
| 1 | codingsquid| 111-111-1111 |

- 위와 같이 모델링 할 경우 Phone Number 컬럼은 원자성을 유지하지 못한다. 사용자가 여러 핸드폰 번호를 가질 경우 문제가 발생한다. 하나의 컬럼에 111-111-1111, 111-111-1112 와 같이 데이터를 저장한다면 원자성이 깨진다. 이를 제거하기 위해 다음과 같이 모델링한다.

| ID | Name |
|:--:|:----:|
| 1 | codingsquid|

| ID | ExternalID | Phone Number |
|:--:|:----------:|:------------:|
| 1 | 1 | 111-111-1111 |
| 2 | 1 | 111-111-1112 |

#### 제2 정규형
- 부분 함수적 종속관계를 제거해야한다.

| Developer | Tech | Phone Number |
|:---------:|:----:|:------------:|
| codingsquid | kotlin | 111-111-1111 |
| codingsquid | jpa | 111-111-1111 |
| codingsquid | spring batch | 111-111-1111 |
| hubert | mysql | 111-111-1112 |
| hubert | redis | 111-111-1112 |

- 위 테이블에서 (Developer, Tech)는 후보키가 될 수 있다. 하지만 핸드폰 번호는 Developer에만 종속적인 관계를 갖는다. 이처럼 키의 일부에만 종속적인 관계를 가지는 것을 부분 함수적 종속관계라 하며, 부분 함수적 종속 관계는 갱신이상 현상을 초래할 수 있다.

| Developer | Phone Number |
|:---------:|:------------:|
| codingsquid | 111-111-1111 |
| hubert | 111-111-1112 |

| Developer | Tech |
|:---------:|:----:|
| codingsquid | kotlin |
| codingsquid | jpa |
| codingsquid | spring batch |
| hubert | mysql |
| hubert | redis |

- 위와 같이 테이블을 분리하면 2차 정규형을 만족하게 된다.

#### 제3 정규형
- 이행 함수적 종속 (x -> y ->z) 제거한다.

| 대회 | 연도 | 우승자 | 우승자 생년 월일 |
|:---:|:---:|:----:|:------------:|
| Linux Master | 2018 | hubert | 2000.03.20 |
| Linux Master | 2017 | codingsquid | 1999.01.31 |
| JVM | 2012 | gksxodnd | 1992.05.23 |

- 위 테이블에서 대회 + 연도를 키로 우승자가 결정되고 우승자에 따라 우승자 생년월일이 결정된다. 이처럼 x->y 이고 y-> z 인 관계를 이행 함수적 종속이라고 한다. 이런 경우 우승자를 변경하면 불필요하게 우승자 생년월일도 동시에 변경해야 하기 때문에 갱신이상 현상을 초래할 수 있다. 이를 해결하려면, 다음과 같이 테이블을 분리해야한다.

| 대회 | 연도 | 우승자 |
|:---:|:---:|:----:|
| Linux Master | 2018 | hubert |
| Linux Master | 2017 | codingsquid |
| JVM | 2012 | gksxodnd |

| 우승자 | 우승자 생년 월일 |
|:----:|:------------:|
| hubert | 2000.03.20 |
| codingsquid | 1999.01.31 |
| gksxodnd | 1992.05.23 |

대부분의 99%의 정규형 작업이 여기서 끝난다. 따라서 정규화는 제3 정규형까지만 정리하는 것으로 마무리한다.
